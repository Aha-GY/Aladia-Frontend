<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    :width="sizeConfig.width"
    :height="sizeConfig.height"
    :viewBox="sizeConfig.viewBox"
    fill="none"
  >
    <path
      :d="sizeConfig.path"
      :fill="
        props.status === 'active'
          ? `url(#${id})`
          : props.status === 'viewed'
            ? '#222222'
            : 'transparent'
      "
    />
    <defs>
      <linearGradient
        :id="id"
        cx="0"
        cy="0"
        r="1"
        gradientUnits="userSpaceOnUse"
        gradientTransform="rotate(90)"
      >
        <stop
          v-for="(color, index) in gradientColors"
          :key="index"
          :offset="`${index * 9.09}%`"
          :stop-color="color"
          stop-opacity="1"
        />
      </linearGradient>
    </defs>
  </svg>
</template>

<script setup>
const props = defineProps({
  size: {
    type: String,
    default: 'sm',
  },
  status: {
    type: String,
    default: 'no-story',
  },
  hole: {
    type: Boolean,
    default: false,
  },
});

const id = ref(Math.random().toString(36).substring(7));

const sizeConfigs = computed(() => ({
  sm: {
    width: 32,
    height: 33,
    viewBox: '0 0 32 33',
    path: props.hole
      ? 'M20.9917 31.0263C21.1066 31.3605 20.929 31.726 20.5904 31.8274C17.3389 32.8012 13.8557 32.7172 10.6467 31.5779C7.23628 30.367 4.33712 28.0358 2.42252 24.9647C0.507919 21.8937 -0.309015 18.2643 0.105095 14.6692C0.519205 11.074 2.13989 7.72536 4.70256 5.17005C7.26522 2.61474 10.6185 1.00368 14.2148 0.599899C17.8112 0.196123 21.4382 1.02348 24.5037 2.9469C27.5692 4.87032 29.8921 7.77616 31.0932 11.19C32.2233 14.4023 32.2973 17.8858 31.3141 21.1344C31.2117 21.4728 30.8458 21.6493 30.5119 21.5334C30.1779 21.4176 30.0025 21.0533 30.1037 20.7147C30.9928 17.7399 30.9198 14.5539 29.8857 11.6148C28.7808 8.47407 26.6437 5.80069 23.8234 4.03115C21.0032 2.2616 17.6663 1.50043 14.3577 1.87191C11.049 2.24338 7.96401 3.72556 5.60635 6.07644C3.2487 8.42733 1.75767 11.508 1.37669 14.8156C0.995706 18.1232 1.74729 21.4622 3.50872 24.2876C5.27015 27.1129 7.93737 29.2577 11.0749 30.3716C14.0111 31.4141 17.1968 31.4963 20.1741 30.6158C20.5131 30.5155 20.8769 30.692 20.9917 31.0263Z'
      : 'M32 16.5C32 25.3366 24.8366 32.5 16 32.5C7.16344 32.5 0 25.3366 0 16.5C0 7.66344 7.16344 0.5 16 0.5C24.8366 0.5 32 7.66344 32 16.5ZM1.28 16.5C1.28 24.6296 7.87037 31.22 16 31.22C24.1296 31.22 30.72 24.6296 30.72 16.5C30.72 8.37037 24.1296 1.78 16 1.78C7.87037 1.78 1.28 8.37037 1.28 16.5Z',
  },
  md: {
    width: 56,
    height: 56,
    viewBox: '0 0 56 56',
    path: props.hole
      ? 'M38.9331 52.5561C39.1847 53.1212 38.9312 53.7855 38.3565 54.0143C32.6695 56.2785 26.3857 56.6202 20.4702 54.9686C14.1946 53.2163 8.72643 49.3303 5.00782 43.98C1.28922 38.6296 -0.447021 32.1499 0.0982 25.657C0.643421 19.1642 3.43596 13.0647 7.99477 8.40943C12.5536 3.75413 18.5932 0.834464 25.0732 0.153387C31.5532 -0.52769 38.0679 1.07247 43.495 4.67821C48.922 8.28394 52.9217 13.6695 54.8049 19.9071C56.5801 25.7867 56.3701 32.0763 54.2255 37.8095C54.0088 38.3888 53.3499 38.6561 52.7797 38.4164V38.4164C52.2095 38.1767 51.944 37.5209 52.1587 36.9408C54.1024 31.6889 54.285 25.9351 52.6606 20.5545C50.928 14.8159 47.2483 9.86123 42.2554 6.54395C37.2625 3.22667 31.269 1.75452 25.3073 2.38112C19.3457 3.00771 13.7893 5.6938 9.59518 9.97667C5.40108 14.2595 2.83195 19.871 2.33034 25.8445C1.82874 31.8179 3.42608 37.7792 6.8472 42.7016C10.2683 47.6239 15.299 51.199 21.0726 52.8111C26.486 54.3225 32.2347 54.0195 37.4448 51.9661C38.0202 51.7393 38.6815 51.991 38.9331 52.5561V52.5561Z'
      : 'M56 28C56 43.464 43.464 56 28 56C12.536 56 0 43.464 0 28C0 12.536 12.536 0 28 0C43.464 0 56 12.536 56 28ZM2.24 28C2.24 42.2269 13.7731 53.76 28 53.76C42.2269 53.76 53.76 42.2269 53.76 28C53.76 13.7731 42.2269 2.24 28 2.24C13.7731 2.24 2.24 13.7731 2.24 28Z',
  },
  lg: {
    width: 94,
    height: 94,
    viewBox: '0 0 94 94',
    path: props.hole
      ? 'M67.4841 87.2022C67.9554 88.1273 67.5889 89.2632 66.6457 89.6972C57.1171 94.0817 46.3757 95.16 36.1358 92.7271C25.2851 90.1491 15.7047 83.7966 9.10681 74.8048C2.50893 65.813 -0.676433 54.768 0.11999 43.6437C0.916413 32.5194 5.64272 22.0408 13.4542 14.0807C21.2658 6.12051 31.6534 1.19754 42.7607 0.191579C53.868 -0.814378 64.9711 2.16224 74.0856 8.58946C83.2002 15.0167 89.7322 24.4756 92.5142 35.2758C95.1397 45.468 94.264 56.2279 90.0599 65.8374C89.6437 66.7887 88.515 67.1765 87.5812 66.7227C86.6473 66.2688 86.2622 65.1453 86.6751 64.1926C90.4912 55.3869 91.2759 45.5419 88.8731 36.2138C86.3136 26.2776 80.3041 17.5753 71.9188 11.6623C63.5334 5.74926 53.3186 3.01077 43.0998 3.93625C32.8811 4.86173 23.3245 9.39087 16.1379 16.7142C8.9513 24.0376 4.6031 33.6779 3.87039 43.9122C3.13768 54.1466 6.06822 64.308 12.1383 72.5804C18.2083 80.8528 27.0223 86.6972 37.0049 89.0689C46.3767 91.2956 56.2051 90.3254 64.9374 86.344C65.8821 85.9133 67.0127 86.2771 67.4841 87.2022Z'
      : 'M47 94C21.0426 94 0 72.9574 0 47C0 21.0426 21.0426 0 47 0C72.9574 0 94 21.0426 94 47C94 72.9574 72.9574 94 47 94ZM47 4C23.2518 4 4 23.2518 4 47C4 70.7482 23.2518 90 47 90C70.7482 90 90 70.7482 90 47C90 23.2518 70.7482 4 47 4Z',
  },
  xl: {
    width: 234,
    height: 234,
    viewBox: '0 0 234 234',
    path: props.hole
      ? 'M174.687 213.374C176.015 215.592 175.297 218.475 173.028 219.713C149.453 232.573 122.12 236.954 95.6237 232.031C67.591 226.821 42.4255 211.555 24.8551 189.099C7.28469 166.644 -1.48109 138.545 0.20467 110.083C1.89043 81.6199 13.9117 54.7524 34.0099 34.5279C54.1081 14.3035 80.8998 2.11424 109.351 0.250278C137.803 -1.61368 165.956 6.97597 188.521 24.4054C211.086 41.8348 226.51 66.9043 231.895 94.9037C236.984 121.368 232.774 148.729 220.061 172.384C218.838 174.66 215.959 175.396 213.733 174.083C211.507 172.769 210.777 169.904 211.993 167.623C223.551 145.936 227.362 120.896 222.703 96.6714C217.749 70.912 203.559 47.848 182.799 31.813C162.039 15.7779 136.139 7.87541 109.963 9.59026C83.7878 11.3051 59.1394 22.5192 40.6491 41.1257C22.1588 59.7322 11.0992 84.4503 9.5483 110.636C7.9974 136.822 16.0619 162.672 32.2267 183.331C48.3914 203.99 71.5438 218.036 97.3338 222.828C121.587 227.335 146.603 223.368 168.217 211.674C170.49 210.444 173.36 211.156 174.687 213.374Z'
      : 'M117 234C52.3746 234 0 181.625 0 117C0 52.3746 52.3746 0 117 0C181.625 0 234 52.3746 234 117C234 181.625 181.625 234 117 234ZM117 10C57.9035 10 10 57.9035 10 117C10 176.097 57.9035 224 117 224C176.097 224 224 176.097 224 117C224 57.9035 176.097 10 117 10Z',
  },
}));

const sizeConfig = computed(() => sizeConfigs.value[props.size]);

const gradientColors = [
  '#906419',
  '#e8cc6b',
  '#eee3c5',
  '#ddcd65',
  '#e0b92c',
  '#edcb6d',
  '#e3bd60',
  '#986b1d',
  '#f9d571',
  '#f6e68e',
  '#d2ba72',
  '#a57625',
];
</script>
